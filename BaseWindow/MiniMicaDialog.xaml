<Window x:Class="MiniMica.MiniMicaDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MiniMica"
        mc:Ignorable="d"
        WindowStyle="None"
        ShowInTaskbar="False"
        ResizeMode="CanResize"
        Width="480" Height="300" MinWidth="480" MinHeight="300" MaxWidth="480" MaxHeight="300"
        WindowStartupLocation="CenterScreen"
        BorderThickness="0"
        Background="{DynamicResource MicaBackground_L}"
        Loaded="OnLoaded" Activated="OnActivated" Deactivated="OnDeactivated" StateChanged="OnStateChanged"
        Title="Contoso">
    
    <WindowChrome.WindowChrome>
        <WindowChrome x:Name="MicaWindowChrome"
                      CaptionHeight="0"
                      GlassFrameThickness="1"
                      ResizeBorderThickness="0">
        </WindowChrome>
    </WindowChrome.WindowChrome>

    <!-- Resource Dictionary for Common Styles -->
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="MiniMicaTheme.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <!-- Root Grid -->
    <Grid x:Name="LayoutRoot" Margin="0,0,0,0">
        <Grid x:Name="WindowControls" VerticalAlignment="Top" Height="30">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- App icon (32x32 PNG) and window text -->
            <!-- Use margin (18,8,0,0) if window text only -->
            <Image x:Name="iconApp" Margin="18,8,0,0" Width="16" Height="16" Source="/res/app.png" VerticalAlignment="Top" HorizontalAlignment="Left" Stretch="Fill"/>
            <TextBlock x:Name="textMain" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="48,8,0,0" Text="Contoso" FontSize="12" FontStyle="Normal" Foreground="Black"/>

            <Rectangle AutomationProperties.Name="Close" Grid.Column="0" Fill="#00000000" StrokeThickness="0" MouseLeftButtonDown="MouseLeftButton_Down"/>
            <Button x:Name="btnClose" AutomationProperties.Name="Close" Grid.Column="1" Style="{StaticResource CloseButton_L_Activated}" Click="BtnClose_Click"/>
        </Grid>

        <Grid x:Name="CanvasRoot" Margin="0,30,0,0">

            <!-- Custom Content Control -->
            <ContentControl>
                <local:DialogControl x:Name="ContentCtrl" />
            </ContentControl>

        </Grid>
    </Grid>

</Window>
